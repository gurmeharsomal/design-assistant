{"ast":null,"code":"import axios from \"axios\";\nconst API_URL = \"http://localhost:8000/api/feedback\";\nexport const fetchFeedback = async (imageData, prompt) => {\n  const formData = new FormData();\n  if (imageData instanceof File) {\n    // Handle file upload\n    formData.append(\"file\", imageData);\n  } else if (imageData.startsWith(\"http\")) {\n    // Handle image URL\n    formData.append(\"image_url\", imageData);\n  } else {\n    // Handle base64 image data\n    formData.append(\"image_base64\", imageData);\n  }\n  formData.append(\"prompt\", prompt);\n\n  // Use axios with a typed response\n  const response = await axios.post(API_URL, formData, {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\"\n    }\n  });\n  return response.data;\n};","map":{"version":3,"names":["axios","API_URL","fetchFeedback","imageData","prompt","formData","FormData","File","append","startsWith","response","post","headers","data"],"sources":["/Users/gurmeharkaur/Desktop/design-assistant/frontend/src/api.ts"],"sourcesContent":["import axios from \"axios\";\n\nconst API_URL = \"http://localhost:8000/api/feedback\";\n\ninterface FeedbackResponse {\n  feedback: string;\n}\n\nexport const fetchFeedback = async (\n  imageData: File | string,\n  prompt: string\n): Promise<FeedbackResponse> => {\n  const formData = new FormData();\n\n  if (imageData instanceof File) {\n    // Handle file upload\n    formData.append(\"file\", imageData);\n  } else if (imageData.startsWith(\"http\")) {\n    // Handle image URL\n    formData.append(\"image_url\", imageData);\n  } else {\n    // Handle base64 image data\n    formData.append(\"image_base64\", imageData);\n  }\n\n  formData.append(\"prompt\", prompt);\n\n  // Use axios with a typed response\n  const response = await axios.post<FeedbackResponse>(API_URL, formData, {\n    headers: {\n      \"Content-Type\": \"multipart/form-data\",\n    },\n  });\n\n  return response.data;\n};"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,oCAAoC;AAMpD,OAAO,MAAMC,aAAa,GAAG,MAAAA,CAC3BC,SAAwB,EACxBC,MAAc,KACgB;EAC9B,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;EAE/B,IAAIH,SAAS,YAAYI,IAAI,EAAE;IAC7B;IACAF,QAAQ,CAACG,MAAM,CAAC,MAAM,EAAEL,SAAS,CAAC;EACpC,CAAC,MAAM,IAAIA,SAAS,CAACM,UAAU,CAAC,MAAM,CAAC,EAAE;IACvC;IACAJ,QAAQ,CAACG,MAAM,CAAC,WAAW,EAAEL,SAAS,CAAC;EACzC,CAAC,MAAM;IACL;IACAE,QAAQ,CAACG,MAAM,CAAC,cAAc,EAAEL,SAAS,CAAC;EAC5C;EAEAE,QAAQ,CAACG,MAAM,CAAC,QAAQ,EAAEJ,MAAM,CAAC;;EAEjC;EACA,MAAMM,QAAQ,GAAG,MAAMV,KAAK,CAACW,IAAI,CAAmBV,OAAO,EAAEI,QAAQ,EAAE;IACrEO,OAAO,EAAE;MACP,cAAc,EAAE;IAClB;EACF,CAAC,CAAC;EAEF,OAAOF,QAAQ,CAACG,IAAI;AACtB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}